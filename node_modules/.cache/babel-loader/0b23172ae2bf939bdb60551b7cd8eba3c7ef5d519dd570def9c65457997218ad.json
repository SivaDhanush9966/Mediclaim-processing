{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./UserList.css';// Import CSS for styling\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserList=()=>{const[claims,setClaims]=useState([]);const[expandedClaimId,setExpandedClaimId]=useState(null);useEffect(()=>{const fetchClaims=async()=>{const email=localStorage.getItem('userEmail');// Retrieve email from local storage\nconsole.log(`http://localhost:8090/claim/user/${email}`);if(email){const response=await fetch(`http://localhost:8082/claim/user/${email}`);if(response.ok){const data=await response.json();console.log(email);setClaims(data);// Store the array of claims directly\n}else{console.error('Failed to fetch claims:',response.statusText);}}else{console.error('User email not found in local storage');}};fetchClaims();},[]);const handleExpand=id=>{setExpandedClaimId(expandedClaimId===id?null:id);};return/*#__PURE__*/_jsx(\"div\",{className:\"class-list-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"claim-view-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Submitted Claims\"}),/*#__PURE__*/_jsx(\"div\",{className:\"claim-list\",children:claims.map(claim=>/*#__PURE__*/_jsxs(\"div\",{className:\"claim-card\",onClick:()=>handleExpand(claim.id),children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Claim ID: \",claim.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",claim.userEmail]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Amount Claimed:\"}),\" $\",claim.amountClaimed.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",claim.status]}),expandedClaimId===claim.id&&/*#__PURE__*/_jsx(\"div\",{className:\"admin-remarks\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Admin Remarks:\"}),\" \",claim.adminRemarks]})})]},claim.id))})]})});};export default UserList;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","UserList","claims","setClaims","expandedClaimId","setExpandedClaimId","fetchClaims","email","localStorage","getItem","console","log","response","fetch","ok","data","json","error","statusText","handleExpand","id","className","children","map","claim","onClick","userEmail","amountClaimed","toFixed","status","adminRemarks"],"sources":["C:/Users/ungati_mohith/Downloads/react-website/react-website-v1-master/src/components/pages/UserList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './UserList.css'; // Import CSS for styling\n\nconst UserList = () => {\n  const [claims, setClaims] = useState([]);\n  const [expandedClaimId, setExpandedClaimId] = useState(null);\n\n\n  useEffect(() => {\n    const fetchClaims = async () => {\n      const email = localStorage.getItem('userEmail'); // Retrieve email from local storage\n      console.log(`http://localhost:8090/claim/user/${email}`);\n      if (email) {\n        const response = await fetch(`http://localhost:8082/claim/user/${email}`);\n        if (response.ok) {\n          const data = await response.json();\n          console.log(email);\n          setClaims(data); // Store the array of claims directly\n        } else {\n          console.error('Failed to fetch claims:', response.statusText);\n        }\n      } else {\n        console.error('User email not found in local storage');\n      }\n    };\n    fetchClaims();\n  }, []);\n\n  const handleExpand = (id) => {\n    setExpandedClaimId(expandedClaimId === id ? null : id);\n  };\n\n  return (\n<div className='class-list-wrapper'>\n<div className=\"claim-view-container\">\n      <h1>Your Submitted Claims</h1>\n      <div className=\"claim-list\">\n        {claims.map((claim) => (\n          <div \n            key={claim.id} \n            className=\"claim-card\" \n            onClick={() => handleExpand(claim.id)}\n          >\n            <h2>Claim ID: {claim.id}</h2>\n            <p><strong>Email:</strong> {claim.userEmail}</p>\n            <p><strong>Amount Claimed:</strong> ${claim.amountClaimed.toFixed(2)}</p>\n            <p><strong>Status:</strong> {claim.status}</p>\n            {expandedClaimId === claim.id && (\n              <div className=\"admin-remarks\">\n                <p><strong>Admin Remarks:</strong> {claim.adminRemarks}</p>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n</div>\n  );\n};\n\nexport default UserList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}