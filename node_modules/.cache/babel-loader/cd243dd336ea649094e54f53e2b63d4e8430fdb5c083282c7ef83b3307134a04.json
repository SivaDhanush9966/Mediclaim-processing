{"ast":null,"code":"import axios from'axios';import React,{useState}from'react';import{useHistory}from'react-router-dom';import'./Customer.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Customer(){const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[role,setRole]=useState('');const[isLoggedIn,setIsLoggedIn]=useState(false);const history=useHistory();const[isPasswordVisible,setIsPasswordVisible]=useState(false);const togglePasswordVisibility=()=>{setIsPasswordVisible(!isPasswordVisible);};const handleLogin=async e=>{e.preventDefault();if(!username||!password||!role){alert('Please fill in all fields');return;}if(role==='Admin'){if(username==='admin123'&&password==='cms'){setIsLoggedIn(true);setTimeout(()=>history.push('/admin'),1000);// delay to navigate after transition\n}else{alert('Invalid admin credentials');}}else{try{const response=await axios.get(`http://localhost:8081/login?email=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`);if(response.status===200){localStorage.setItem('userEmail',username);if(role==='Customer'){setTimeout(()=>history.push('/customerdash'),1000);// delay to navigate after transition\n}else if(role==='Hospital TPA'){setTimeout(()=>history.push('/tpa'),1000);// delay to navigate after transition\n}}}catch(error){if(error.response&&error.response.status===401){alert('Invalid username or password');}else{alert('An error occurred. Please try again.');}}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:isLoggedIn?'bef':'',children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-box-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",value:username,onChange:e=>setUsername(e.target.value),required:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"ul\",{onClick:togglePasswordVisibility,children:isPasswordVisible?/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-eye\"}):/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-eye-slash\"})}),/*#__PURE__*/_jsx(\"input\",{type:isPasswordVisible?'text':'password',placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-box-1\",children:/*#__PURE__*/_jsxs(\"select\",{value:role,onChange:e=>setRole(e.target.value),required:true,className:\"custom-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select Role\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Customer\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Hospital TPA\",children:\"Hospital TPA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Admin\",children:\"Admin\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"remember-forgot\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/forgot\",children:\"Forgot password?\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"register-link\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account?\",/*#__PURE__*/_jsx(\"a\",{href:\"/sign-up\",children:\"Register\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"design-component\"})]});}export default Customer;","map":{"version":3,"names":["axios","React","useState","useHistory","jsx","_jsx","jsxs","_jsxs","Customer","username","setUsername","password","setPassword","role","setRole","isLoggedIn","setIsLoggedIn","history","isPasswordVisible","setIsPasswordVisible","togglePasswordVisibility","handleLogin","e","preventDefault","alert","setTimeout","push","response","get","encodeURIComponent","status","localStorage","setItem","error","className","children","onSubmit","type","placeholder","value","onChange","target","required","onClick","class","disabled","href"],"sources":["C:/Users/ungati_mohith/Downloads/react-website/react-website-v1-master/src/components/pages/Customer.js"],"sourcesContent":["import axios from 'axios';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport './Customer.css';\n\nfunction Customer() {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState('');\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const history = useHistory();\n  const [isPasswordVisible, setIsPasswordVisible] = useState(false);\n\n  const togglePasswordVisibility = () => {\n    setIsPasswordVisible(!isPasswordVisible);\n  };\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n\n    if (!username || !password || !role) {\n      alert('Please fill in all fields');\n      return;\n    }\n\n    if (role === 'Admin') {\n      if (username === 'admin123' && password === 'cms') {\n        setIsLoggedIn(true);\n        setTimeout(() => history.push('/admin'), 1000); // delay to navigate after transition\n      } else {\n        alert('Invalid admin credentials');\n      }\n    } else {\n      try {\n        const response = await axios.get(`http://localhost:8081/login?email=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`);\n\n        if (response.status === 200) {\n          localStorage.setItem('userEmail', username);\n          if (role === 'Customer') {\n            setTimeout(() => history.push('/customerdash'), 1000); // delay to navigate after transition\n          } else if (role === 'Hospital TPA') {\n            setTimeout(() => history.push('/tpa'), 1000); // delay to navigate after transition\n          }\n        }\n      } catch (error) {\n        if (error.response && error.response.status === 401) {\n          alert('Invalid username or password');\n        } else {\n          alert('An error occurred. Please try again.');\n        }\n      }\n    }\n  };\n\n  return (\n    <div className =\"bg\">\n            <form onSubmit={handleLogin} className = {isLoggedIn ? 'bef' : ''}>\n              <h1>Login</h1>\n              <div className=\"input-box-1\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Email\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                  required\n                />\n              </div>\n              <div className=\"input-box\">\n              <ul onClick={togglePasswordVisibility}>\n                {isPasswordVisible ? <i class=\"fa-solid fa-eye\"></i>: <i class=\"fa-solid fa-eye-slash\"></i>}\n                </ul>\n                <input\n                  type={isPasswordVisible ? 'text' : 'password'}\n                  placeholder=\"Password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                />\n\n              </div>\n              <div className=\"input-box-1\">\n                <select \n                  value={role}\n                  onChange={(e) => setRole(e.target.value)}\n                  required\n                  className=\"custom-select\"\n                >\n                  <option value='' disabled>Select Role</option>\n                  <option value=\"Customer\">Customer</option>\n                  <option value=\"Hospital TPA\">Hospital TPA</option>\n                  <option value=\"Admin\">Admin</option>\n                </select>\n              </div>\n              <div className=\"remember-forgot\">\n                <a href=\"/forgot\">Forgot password?</a>\n              </div>\n              <button type='submit'>Login</button>\n              <div className=\"register-link\">\n                <p>Don't have an account?<a href=\"/sign-up\">Register</a></p>\n              </div>\n            </form>\n        <div className='design-component'>\n        </div>\n      </div>\n  );\n}\n\nexport default Customer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}